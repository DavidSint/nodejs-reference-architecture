"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3087],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return m}});var a=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=a.createContext({}),d=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=d(e.components);return a.createElement(l.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=d(t),m=o,h=u["".concat(l,".").concat(m)]||u[m]||c[m]||r;return t?a.createElement(h,i(i({ref:n},p),{},{components:t})):a.createElement(h,i({ref:n},p))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=u;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var d=2;d<r;d++)i[d]=t[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},8783:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return d},toc:function(){return p},default:function(){return u}});var a=t(7462),o=t(3366),r=(t(7294),t(3905)),i=["components"],s={sidebar_position:8},l="Node.js Versions and Container Images",d={unversionedId:"docs/functional-components/nodejs-versions-images",id:"docs/functional-components/nodejs-versions-images",isDocsHomePage:!1,title:"Node.js Versions and Container Images",description:"Recommended Components",source:"@site/docs/docs/functional-components/nodejs-versions-images.md",sourceDirName:"docs/functional-components",slug:"/docs/functional-components/nodejs-versions-images",permalink:"/nodejs-reference-architecture/docs/functional-components/nodejs-versions-images",editUrl:"https://github.com/nodeshift/nodejs-reference-architecture/docs/docs/functional-components/nodejs-versions-images.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Message Queuing",permalink:"/nodejs-reference-architecture/docs/functional-components/message-queuing"},next:{title:"Scaling and Multi-threading",permalink:"/nodejs-reference-architecture/docs/functional-components/scaling-multi-threading"}},p=[{value:"Recommended Components",id:"recommended-components",children:[{value:"Raw binaries",id:"raw-binaries",children:[]},{value:"Windows and Mac installers",id:"windows-and-mac-installers",children:[]},{value:"Node.js version managers",id:"nodejs-version-managers",children:[]},{value:"Commercially Supported Binaries",id:"commercially-supported-binaries",children:[]},{value:"Binaries with FIPs support",id:"binaries-with-fips-support",children:[]},{value:"Container images",id:"container-images",children:[]},{value:"Commercially Supported Containers",id:"commercially-supported-containers",children:[]},{value:"Containers with FIPs support",id:"containers-with-fips-support",children:[]}]},{value:"Guidance",id:"guidance",children:[]}],c={toc:p};function u(e){var n=e.components,t=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"nodejs-versions-and-container-images"},"Node.js Versions and Container Images"),(0,r.kt)("h2",{id:"recommended-components"},"Recommended Components"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Distribution type"),(0,r.kt)("th",{parentName:"tr",align:null},"Recommended source"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Raw binaries"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://nodejs.org/en/download/"},"Node.js Download site"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Windows, Mac Installers"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://nodejs.org/en/download/"},"Node.js Download site"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Version manager"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/nvm-sh/nvm"},"nvm"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Commercially Supported Binaries"),(0,r.kt)("td",{parentName:"tr",align:null},"OS Packages from OS vendor")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Binaries with FIPs support"),(0,r.kt)("td",{parentName:"tr",align:null},"OS Packages from OS vendor")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Containers"),(0,r.kt)("td",{parentName:"tr",align:null},"Official Docker images excluding Alpine")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Commercially Supported Containers"),(0,r.kt)("td",{parentName:"tr",align:null},"Images from distros (for example rhel or ubi images)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Containers with FIPs support"),(0,r.kt)("td",{parentName:"tr",align:null},"Images from distros (for example rhel or ubi images)")))),(0,r.kt)("p",null,"We recommend that you use only ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/nodejs/release#release-phases"},"LTS"),"\nversions for production use, and in addition test on the latest ",(0,r.kt)("inlineCode",{parentName:"p"},"Current")," in order\nto prepare for future upgrades. A new LTS version is available every October from the\nproject and past LTS versions go EOL in April, 30 months after they were released."),(0,r.kt)("h3",{id:"raw-binaries"},"Raw binaries"),(0,r.kt)("p",null,"The Node.js projects provides binaries for the\nsupported platforms on the ",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/en/download/"},"download")," page."),(0,r.kt)("p",null,"These are the most up to date packages available and new releases show\nup on this page first."),(0,r.kt)("h3",{id:"windows-and-mac-installers"},"Windows and Mac installers"),(0,r.kt)("p",null,"The Node.js projects provides installers for Windows and Mac\non the ",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/en/download/"},"download")," page."),(0,r.kt)("p",null,"These are the most up to date installers available and new releases show\nup on this page first."),(0,r.kt)("h3",{id:"nodejs-version-managers"},"Node.js version managers"),(0,r.kt)("p",null,"Node.js version managers provide an easier way to get Node.js\nversions from the Node.js download site and switch between them.\nThe the teams organizations have the most experience with\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/nvm-sh/nvm"},"nvm"),"\nwith the caveat that it does not support Windows and that\nit should only be used for development as opposed to production\ndeployments."),(0,r.kt)("h3",{id:"commercially-supported-binaries"},"Commercially Supported Binaries"),(0,r.kt)("p",null,"Most often the easiest way to get support is from an operating system\nvendor. This generally requires using the binaries which are\ninstalled using the native package managers for that OS."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," It is quite common for the version of Node.js which\nis installed in this way to be tied to the OS version.\nFor example if you simply install ",(0,r.kt)("inlineCode",{parentName:"p"},"apt-get install nodejs")," on\nUbuntu 18.04 you get Node.js v8.10.0 which is already end of life (EOL)."),(0,r.kt)("p",null,"Therefore, it is generally not recommeneded that you use the default\nNode.js version provided by an OS package manager. Instructions\non this ",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/en/download/package-manager/"},"page")," may\nhelp in configuring so that you get an up to date version."),(0,r.kt)("p",null,"For Red Hat and IBM deployments that need commercial support\nwe recommend the binaries which come with RHEL."),(0,r.kt)("h3",{id:"binaries-with-fips-support"},"Binaries with FIPs support"),(0,r.kt)("p",null,"The community is at an awkward period where the only supported versions\nof OpenSSL do not have a FIPs certication. The community binaries\nand containers are, therefore, not suitable for deployments that\nneed FIPs compliance."),(0,r.kt)("p",null,"Several Operating system vendors have worked to include Node.js in\nthe certification of their Operating systems and those are the\nrecommended way to get a Node.js binaries for use where FIPs is\na requirement."),(0,r.kt)("p",null,"For Red Hat and IBM deployments that need FIPs support\nwe recommend the binaries which come with RHEL."),(0,r.kt)("h3",{id:"container-images"},"Container images"),(0,r.kt)("p",null,"Container images are docker images which have the Node.js binaries already\nbundled into the container."),(0,r.kt)("p",null,"The Node.js ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/nodejs/docker-node"},"docker")," team works with docker hub\nto maintain as set of ",(0,r.kt)("inlineCode",{parentName:"p"},"official")," nodejs docker images on hub.docker.com -\n",(0,r.kt)("a",{parentName:"p",href:"https://hub.docker.com/_/node"},"https://hub.docker.com/_/node")),(0,r.kt)("p",null,"Images are provided for:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"debian"),(0,r.kt)("li",{parentName:"ul"},"debian-minimal"),(0,r.kt)("li",{parentName:"ul"},"alpine")),(0,r.kt)("p",null,"There are two image flavors based on debian so that you can achieve smaller container\nsizes using ",(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/develop/develop-images/multistage-build/"},"multi-stage docker builds"),".\nThe larger images has all of the tools need to build the application while\nthe minimal image has only the base components needed to run Node.js. In both cases\nthese images bundle in the binaries which are available on the Node.js download\nsite and support multiple ptatforms (x64, PPC and s390)."),(0,r.kt)("p",null,"Images are also provided for Alpine which can allow you to achieve even smaller\nimages sizes. ",(0,r.kt)("strong",{parentName:"p"},"However"),", if you check the\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/nodejs/node/blob/master/BUILDING.md"},"BUILDING.md"),"\nfile for the Node.js project you'll see that support for Alpine is ",(0,r.kt)("inlineCode",{parentName:"p"},"experimental"),".\nThis also means that there is no binary which can be bundled and instead\nthe creation of the Alpine containers includes building the binaries\nthemselves. For these reasons we don't recommend using the Alpine images\nunless the smaller size is an absolute requirement."),(0,r.kt)("h3",{id:"commercially-supported-containers"},"Commercially Supported Containers"),(0,r.kt)("p",null,"Most often the easiest way to get support is from an operating system\nvendor. This generally requires using a host running an operating\nsystem from the vendor as well as containers from that vendor which\ninclude the Node.js binaries."),(0,r.kt)("p",null,"For example, if you want to take advantage of the support for\nNode.js that comes with RHEL or Red Hat Runtimes you will need to use\nthe rhel or ubi images available from the\n",(0,r.kt)("a",{parentName:"p",href:"https://catalog.redhat.com/software/containers/search?q=ubi%20node.js"},"Red Hat container catalog")),(0,r.kt)("h3",{id:"containers-with-fips-support"},"Containers with FIPs support"),(0,r.kt)("p",null,"The community is at an awkward period where the only supported versions\nof OpenSSL do not have a FIPs certication. The community binaries\nand containers are, therefore, not suitable for deployments that\nneed FIPs compliance."),(0,r.kt)("p",null,"Several Operating system vendors have worked to include Node.js in\nthe certification of their Operating systems and those are the\nrecommended way to get a Node.js containers for use where FIPs is\na requirement."),(0,r.kt)("p",null,"For Red Hat and IBM deployments that need FIPs support\nwe recommend the rhel and ubi Node.js containers."),(0,r.kt)("h2",{id:"guidance"},"Guidance"),(0,r.kt)("p",null,"When possible deploy using containers versus managing the Operating system\nand Node.js binaries yourself. This will simplify upgrades and security\nresponse handling."),(0,r.kt)("p",null,"Always cache the binaries, containers or OS packages tha you use in\nproduction and in build/test pipelines. For example, do not depend\non the Node.js download site being available 24/7."),(0,r.kt)("p",null,"Subscribe to the ",(0,r.kt)("a",{parentName:"p",href:"https://groups.google.com/g/nodejs-sec"},"nodejs-sec")," mailing list.\nThis low volumne mailing list is used to provide advance notice of security\nreleases and will give you the earliest warning that you may need\nto update your Node.js version."),(0,r.kt)("p",null,"For new applications always start with the latest LTS version."),(0,r.kt)("p",null,"For existing applications plan to do advance testing on your next\ntarget LTS version when it is released in April each year (it will be the\n",(0,r.kt)("inlineCode",{parentName:"p"},"Current")," for 6 months before being promoted to LTS at the end of\nOctober) and then put it into production in January the following year.",(0,r.kt)("br",{parentName:"p"}),"\n","This will ensure you can ensure that any issues specific to your\ndeployment can be reported/addressed by the project before it\nbecomes LTS and ensure you have enough time before the existing LTS\nversion you are using goes EOL in April."))}u.isMDXComponent=!0}}]);