<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Code Consistency | Node.JS Reference Architecture</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://nodeshift.dev/nodejs-reference-architecture/development/code-consistency"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Code Consistency | Node.JS Reference Architecture"><meta data-react-helmet="true" name="description" content="It is important to the efficiency of teams working"><meta data-react-helmet="true" property="og:description" content="It is important to the efficiency of teams working"><link data-react-helmet="true" rel="shortcut icon" href="/nodejs-reference-architecture/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://nodeshift.dev/nodejs-reference-architecture/development/code-consistency"><link data-react-helmet="true" rel="alternate" href="https://nodeshift.dev/nodejs-reference-architecture/development/code-consistency" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://nodeshift.dev/nodejs-reference-architecture/development/code-consistency" hreflang="x-default"><link rel="stylesheet" href="/nodejs-reference-architecture/assets/css/styles.28552db3.css">
<link rel="preload" href="/nodejs-reference-architecture/assets/js/runtime~main.27a4d17c.js" as="script">
<link rel="preload" href="/nodejs-reference-architecture/assets/js/main.4aaaabff.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/nodejs-reference-architecture/"></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/nodejs-reference-architecture/">Node.js Reference Architecture</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Development</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/nodejs-reference-architecture/development/building-good-containers">Building Good Containers</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/nodejs-reference-architecture/development/code-consistency">Code Consistency</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/nodejs-reference-architecture/development/npm-proxy">Npm Proxy / Internal Registry</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/nodejs-reference-architecture/development/npm-publishing">Npm Publishing Guidelines</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/nodejs-reference-architecture/development/testing">Testing</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Functional components</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Operations</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Code Consistency</h1></header><p>It is important to the efficiency of teams working
on JavaScript (and other languages) to have consistency
in formatting within the projects managed by their team.</p><p>Not having a consistent coding style documented or enforcing
consistency manually as part of code reviews or
other manual techniques is error prone, potentially
harmful to relationships between team members,
is a barrier to attracting external contributions and can
result in bugs because the is harder to understand and spot
repeating patterns.</p><p>Consistency should be enforced through automated tooling
which is well integrated into the process of landing
Pull Requests (or equivalent).</p><p>There are benefits to consistency across an organization but
it is also important that teams are empowered to do what is
right for their projects. We recommend starting with an
organizational standard and then adjusting based on the
needs of the team.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="recommended-components"></a>Recommended Components<a class="hash-link" href="#recommended-components" title="Direct link to heading">#</a></h2><ul><li>ESLint - <a href="https://eslint.org/" target="_blank" rel="noopener noreferrer">https://eslint.org/</a></li></ul><p>ESLint is broadly used with the <code>teams</code> organizations and has broad usage
across the JavaScript ecosystem with &gt; 11 million weekly downloads.
It can be configured to reflect the coding style followed by most
if not all teams.</p><header><h1>Guidance</h1></header><ul><li><p>Use one of the pre-existing ESLint shareable configurations. There are a number
of pre-existing configurations and re-using one of these has a number
of benefits:</p><ul><li>minimizing what can be potentially divisive discussions to agree
on the style to be followed.</li><li>leveraging the experience of what has worked for other teams.</li><li>increasing the likelihood of familiarity for new team members.</li></ul><p>Examples include:</p><ul><li>eslint-config-airbnb-standard - <a href="https://www.npmjs.com/package/eslint-config-airbnb-standard" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/eslint-config-airbnb-standard</a></li><li>eslint-config-semistandard - <a href="https://www.npmjs.com/package/eslint-config-semistandard" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/eslint-config-semistandard</a></li><li>eslint-config-standard - <a href="https://www.npmjs.com/package/eslint-config-standard" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/eslint-config-standard</a></li><li>eslint-config-prettier - <a href="https://github.com/prettier/prettier-eslint" target="_blank" rel="noopener noreferrer">https://github.com/prettier/prettier-eslint</a></li></ul><p>with a complete list available through this query: <a href="https://www.npmjs.com/search?q=eslint-config-&amp;ranking=popularity" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/search?q=eslint-config-&amp;ranking=popularity</a></p></li><li><p>Integrate eslint into your package.json so that it runs before scripts. For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;pretest&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;eslint --ignore-path .gitignore .&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>set your project to extend your chosen eslint-config-X by populating an eslintrc.json file:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  echo &#x27;{&quot;extends&quot;: &quot;X&quot;}&#x27; &gt; .eslintrc.json</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>substituting X with your chosen config. You can also get started by running <code>npx eslint --init</code> which
will ask you a number of interactive questions and then create your <code>.eslintrc.json</code> file and add
the required dependencies into your package.json.</p></li><li><p>Ensure you have a gitignore file so derived files do not get linted. A minimal one can be
created with:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> node_modules/ </span><span class="token operator">&gt;&gt;</span><span class="token plain"> .gitignore</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Some additional useful suggestions are available in this
<a href="https://medium.com/the-node-js-collection/why-and-how-to-use-eslint-in-your-project-742d0bc61ed7" target="_blank" rel="noopener noreferrer">article</a>.</p></li><li><p>When adopting a pre-existing shareable config it is important to understand that these
configs can change over time. Include time in your regular workflow to review these changes
and update your code base appropriately.</p></li><li><p>Configure hooks to run eslint before committing code, but ensure that this pre-commit check does not take too long to execute which may cause complaints from developers.</p><ul><li>Use <a href="https://github.com/typicode/husky" target="_blank" rel="noopener noreferrer">husky</a> to configure scripts to run before git commits and git pushes.<ul><li>These checks can be skipped by a developer when needed via <code>git commit --no-verify</code></li></ul></li><li>Use <a href="https://github.com/okonet/lint-staged" target="_blank" rel="noopener noreferrer">lint-staged</a> to reduce amount of code to be linted. This speeds up linting step before commit/push.
These can be integrated into package.json as follows:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;**/*.js&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;eslint&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token property">&quot;husky&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;hooks&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;pre-commit&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;lint-staged&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>Always ensure CI/CD is running linting regardless of hooks.</p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/nodeshift/nodejs-reference-architecture/docs/development/code-consistency.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/nodejs-reference-architecture/development/building-good-containers"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Building Good Containers</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/nodejs-reference-architecture/development/npm-proxy"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Npm Proxy / Internal Registry Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#recommended-components" class="table-of-contents__link">Recommended Components</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/nodejs-reference-architecture/assets/js/runtime~main.27a4d17c.js"></script>
<script src="/nodejs-reference-architecture/assets/js/main.4aaaabff.js"></script>
</body>
</html>